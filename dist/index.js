"use strict";function __$styleInject(e,t){if("undefined"==typeof document)return t;e=e||"";var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");return a.type="text/css",r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e)),t}function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),React__default=_interopDefault(React),_=_interopDefault(require("lodash"));__$styleInject("input.text__input{height:34px;min-width:288px;font-family:Open Sans,sans-serif;font-weight:300;font-size:14px;letter-spacing:.05em;line-height:34px;padding:0 10px;color:#33414b;background:#fff;border:1px solid #c7c7c7;outline:none;font-style:normal!important}input.text__input:focus{color:#33414b;border-color:#33414b}input.text__input:focus+.icon{color:#33414b}input.text__input+.icon{display:inline-block;margin-left:-25px;font-size:18px;vertical-align:middle}.is-disabled input.text__input,input.text__input:disabled{color:#727272;background-color:#e9eced}.is-disabled input.text__input+.icon,input.text__input:disabled+.icon{color:#727272}.has-error input.text__input,input.text__input.has-error{border:1px solid #ff1654;//:0 40px 0 10px}.has-error input.text__input+.icon,input.text__input.has-error+.icon{color:#ff1654}.is-valid input.text__input,input.text__input.is-valid{//:0 40px 0 10px}.is-valid input.text__input+.icon,input.text__input.is-valid+.icon{color:#88c745}input.text__input::-webkit-input-placeholder{font-style:italic;color:#c7c7c7!important}input.text__input::-moz-placeholder{font-style:italic;color:#c7c7c7!important}input.text__input:-ms-input-placeholder{font-style:italic;color:#c7c7c7!important}input.text__input:-moz-placeholder{font-style:italic;color:#c7c7c7!important}.header input.text__input:-moz-placeholder{font-style:italic;color:#fff}.input-group{position:relative;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.input-group.search-bar{width:100%;height:100%;max-width:520px;display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start}.input-group__addon{width:40px;height:34px;line-height:34px;text-align:center;background:#e9eced;border:1px solid #c7c7c7}.input-group__addon:hover{cursor:pointer}.input-group__addon:first-child{border-right:none}.input-group__addon:last-child{border-left:none;font-size:18px}.input-group__addon+input.text__input{min-width:248px}.input-group__addon input.text__input+.button{margin-left:-25px}.input-group .text__input+button,.input-group__addon input.text__input+.button{min-width:0;padding:0;font-size:18px;vertical-align:middle;color:inherit;background:none;border:none}.input-group .text__input+button{margin-left:-29px;cursor:pointer}.form__field{margin:20px 0 40px;font-family:Open Sans,sans-serif}.form__field__label{line-height:17px;font-size:12px!important;font-weight:900!important;letter-spacing:.05em!important;color:#33414b}.form__field__hint{position:absolute;font-size:12px;font-weight:300;line-height:20px;letter-spacing:.05em;color:#9d9d9d}.form__field__hint--error{color:#ff1654}",void 0);var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},TextInput=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.focus=r.focus.bind(r),r.parseWidth=r.parseWidth.bind(r),r}return inherits(t,e),createClass(t,[{key:"focus",value:function(){this.input.focus()}},{key:"parseWidth",value:function(e){var t=(""+e).replace("px","");return isNaN(t)||(t=parseInt(t,10)),t}},{key:"render",value:function(){var e=this,t=this.props,r=t.label,a=t.labelPosition,n=t.labelWidth,i=t.placeholder,o=t.password,s=t.disabled,l=t.value,p=t.errorMessage,c=t.valid,u=t.required,d=t.iconClass,h=t.search,f=t.width,_=t.searchIcon,g=t.name,y=t.onChange,x=t.onBlur,m=t.onSearch,v=!h&&(!1===c||p&&p.length>0),b=!h&&c&&!v&&!s,R="";v?R="has-error":b?R="is-valid":h&&(R="search");var C={};if(f){var T=this.parseWidth(f);isNaN(T)||(T=d&&d.length?T-40:T),C.width=""+("auto"===T?"100%":T)}var P={},k={};return a&&"left"===a&&(P.display="flex",P.alignItems="center",k.minWidth=n?this.parseWidth(n):"150px"),React__default.createElement("div",{className:"form__field",style:P},React__default.createElement("div",{style:k},r&&React__default.createElement("label",{className:"form__field__label",htmlFor:g},r+(u?" *":""))),React__default.createElement("div",null,React__default.createElement("div",{className:"input-group "+R},d&&d.length>0&&React__default.createElement("div",{className:"input-group__addon",onClick:this.focus},React__default.createElement("span",{className:"icon "+d})),React__default.createElement("input",{ref:function(t){e.input=t},id:g,name:g,className:"text__input "+R,type:o?"password":"text",placeholder:i,disabled:s,value:l,style:C,onChange:y,onBlur:x}),h&&React__default.createElement("button",{type:"submit",onClick:m},React__default.createElement("span",{className:"icon "+(_&&_.length>0?_:"icon-search")})),v&&React__default.createElement("span",{className:"icon icon-info"}),b&&React__default.createElement("span",{className:"icon icon-status-online"})),v&&React__default.createElement("div",{className:"form__field__hint form__field__hint--error"},p)))}}]),t}(React.Component);TextInput.propTypes={disabled:React.PropTypes.bool,errorMessage:React.PropTypes.string,label:React.PropTypes.string,labelPosition:React.PropTypes.string,labelWidth:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),iconClass:React.PropTypes.string,name:React.PropTypes.string,password:React.PropTypes.bool,placeholder:React.PropTypes.string,required:React.PropTypes.bool,search:React.PropTypes.bool,searchIcon:React.PropTypes.string,valid:React.PropTypes.bool,value:React.PropTypes.string,width:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.number]),onBlur:React.PropTypes.func,onChange:React.PropTypes.func,onSearch:React.PropTypes.func};var TextBox=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleChange=r.handleChange.bind(r),r.handleBlur=r.handleBlur.bind(r),r.checkIsRequired=r.checkIsRequired.bind(r),r.checkRegex=r.checkRegex.bind(r),r.checkValidity=r.checkValidity.bind(r),r.notifyValidationStatus=r.notifyValidationStatus.bind(r),r.state={triggerValidation:!1,value:"",errorMessage:""},r}return inherits(t,e),createClass(t,[{key:"checkRegex",value:function(e){if(this.props.regex){return("string"==typeof this.props.regex||this.props.regex instanceof String?new RegExp(this.props.regex):this.props.regex).test(e)}return!0}},{key:"checkIsRequired",value:function(e){return!this.props.required||!_.isEmpty(e)}},{key:"checkValidity",value:function(e){var t="";return this.checkIsRequired(e)?this.checkRegex(e)||(t=this.props.regexValidationError||"Does not conform to regex!"):t=this.props.requiredValidationError||"Required!",t}},{key:"handleChange",value:function(e){var t="";(this.props.triggerValidation||this.state.triggerValidation)&&(t=this.checkValidity(e.target.value)),this.setState({value:e.target.value,errorMessage:t}),this.props.onChange&&this.props.onChange(e)}},{key:"handleBlur",value:function(){if(this.props.onBlur)this.props.onBlur();else if(this.props.required||this.props.regex){var e=this.checkValidity(this.state.value);this.setState({triggerValidation:!0,errorMessage:e}),this.notifyValidationStatus(e)}}},{key:"notifyValidationStatus",value:function(e){if(this.props.notifyValidationStatus){var t=this.props.name||this.props.label;this.props.notifyValidationStatus(t,e)}}},{key:"render",value:function(){var e=this.props.value||this.state.value,t=_.isEmpty(this.props.errorMessage)?this.state.errorMessage:this.props.errorMessage,r=void 0;return(this.props.triggerValidation||this.state.triggerValidation)&&_.isEmpty(t)&&(r=!0),React__default.createElement("div",{className:"textbox"},React__default.createElement(TextInput,_extends({},this.props,{value:e,onChange:this.handleChange,onBlur:this.handleBlur,errorMessage:t,valid:r})))}}]),t}(React.Component);TextBox.propTypes={errorMessage:React.PropTypes.string,label:React.PropTypes.string,name:React.PropTypes.string,regex:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.object]),regexValidationError:React.PropTypes.string,required:React.PropTypes.bool,requiredValidationError:React.PropTypes.string,triggerValidation:React.PropTypes.bool,value:React.PropTypes.string,onBlur:React.PropTypes.func,onChange:React.PropTypes.func,notifyValidationStatus:React.PropTypes.func};var FirstName=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleChange=r.handleChange.bind(r),r.state={value:""},r}return inherits(t,e),createClass(t,[{key:"capitalize",value:function(e){return e.replace(/(^|\s)\S/g,function(e){return e.toUpperCase()})}},{key:"handleChange",value:function(e){var t=this.capitalize(e.target.value);this.setState({value:t}),this.props.onChange(t)}},{key:"render",value:function(){return React__default.createElement("div",{className:"first-name"},React__default.createElement(TextBox,_extends({},this.props,{value:this.state.value,onChange:this.handleChange})))}}]),t}(React.Component);FirstName.propTypes={onChange:React.PropTypes.func};var LastName=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleChange=r.handleChange.bind(r),r.state={value:""},r}return inherits(t,e),createClass(t,[{key:"handleChange",value:function(e){var t=e.target.value.toUpperCase();this.setState({value:t}),this.props.onChange(t)}},{key:"render",value:function(){return React__default.createElement("div",{className:"last-name"},React__default.createElement(TextBox,_extends({},this.props,{value:this.state.value,onChange:this.handleChange})))}}]),t}(React.Component);LastName.propTypes={onChange:React.PropTypes.func};var Email=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleChange=r.handleChange.bind(r),r.state={value:""},r}return inherits(t,e),createClass(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value}),this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this.props.regex||/(.+)@(.+){2,}\.(.+){2,}/,t=this.props.regexValidationError||"Please enter a valid email address";return React__default.createElement("div",{className:"email"},React__default.createElement(TextBox,_extends({},this.props,{value:this.state.value,onChange:this.handleChange,regex:e,regexValidationError:t})))}}]),t}(React.Component);Email.propTypes={regex:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.object]),regexValidationError:React.PropTypes.string,onChange:React.PropTypes.func},exports.TextInput=TextInput,exports.TextBox=TextBox,exports.FirstName=FirstName,exports.LastName=LastName,exports.Email=Email;
